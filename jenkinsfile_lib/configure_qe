#!/usr/bin/env groovy

/* import shared library */
@Library('jenkins-dsl')_
def remote = [:]
remote.name = "node-1"
remote.host = "116.203.81.151"
remote.allowAnyHosts = true

pipeline {
  agent {
    label "worker" 
  }
stages {
        stage('SSH') {
            steps {
                script {
                    withCredentials([sshUserPrivateKey(credentialsId: 'hpc', keyFileVariable: 'key', passphraseVariable: '', usernameVariable: 'hpc')]) {
                        sh "ssh 116.203.81.151 && ls -la"
                    }
                }
            }
        }
    }
}
  

      
      
    
  



